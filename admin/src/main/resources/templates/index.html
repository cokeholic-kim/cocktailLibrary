<!DOCTYPE html>
<!--<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml">-->
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<!-- Bootstrap core CSS -->
<link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.min.css}">
<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
<style>
#navigation{
    box-shadow: 0 8px 20px 0 rgba(0, 0, 0, 0.15);
    height: 7vh;
}
#navigation p {
    margin: 0 5px;
}
</style>


<head>
    <meta charset="UTF-8">
    <title>CockTail-Library</title>
</head>
<body>

<!-- 로그인을 한 경우-->
<th:block sec:authorize="isAuthenticated()">
    <div id="navigation" class="nav-item d-flex justify-content-start align-items-center px-2">
        <p class="nav-item active">아이디: <span th:text="${#authentication.name}"></span></p>
        <p class="nav-item active">직급: <span th:text="${#authentication.authorities[0].getAuthority()}"></span></p>

        <p class="nav-item active">
            <form th:action="@{/logout}" method="post">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                <button type="submit" class="btn btn-warning">로그아웃</button>
            </form>
        </p>
    </div>
    <div class="container-fluid" style="height: 93vh">
        <div class="row h-50">
            <div class="col-6 bg-info bg-gradient h-100 border">1</div>
            <div class="col-6 bg-info bg-gradient h-100 border">2</div>
        </div>

        <div class="row h-50">
            <div class="col-6 bg-info bg-gradient h-100 border">3</div>
            <div class="col-6 bg-info bg-gradient h-100 border">4</div>
        </div>
    </div>
</th:block>

<!-- 로그인 하지 않은 경우 -->
<th:block sec:authorize="isAnonymous()">

    <div class="position-absolute top-50 start-50 translate-middle border border-dark border-black rounded py-2 px-2" style="height: 100px;width: 50%;">
        <h1>CockTail-Library</h1>
        <button class="btn btn-primary">
            <a th:href="@{/join}" class="nav-link">회원가입</a>
        </button>
        <button class="btn btn-primary">
            <a th:href="@{/login}" class="nav-link">로그인</a>
        </button>
    </div>

</th:block>


<!--<div th:fragment="logout" class="logout" sec:authorize="isAuthenticated()">-->
<!--    Logged in user: <span sec:authentication="name"></span> | Roles: <span sec:authentication="principal.authorities"></span>-->
<!--    <p th:text="${role}"></p>-->
<!--    <div>-->
<!--        <form action="#" th:action="@{/logout}" method="post">-->
<!--            <input type="submit" value="Logout"/>-->
<!--        </form>-->
<!--    </div>-->
<!--    <li><a href="/user">User</a></li>-->
<!--</div>-->

<!--<div sec:authorize="!isAuthenticated()" style="border:1px solid #333">-->
<!--    <li><a href="/login">로그인</a></li>-->
<!--    <p th:text="${name}"></p>-->
<!--    <p th:text="${role}"></p>-->
<!--</div>-->
<!--    <h1>home</h1>-->
<!--    <a href="/users">조회</a>-->
<!--    <a href="/login">로그인</a>-->
<!--    <a href="/join">등록</a>-->
<!--    <a href="cocktail/cocktailIndex">칵테일</a>-->
</body>
</html>