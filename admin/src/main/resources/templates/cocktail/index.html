<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layout}"
>
<th:block layout:fragment="content">
    <div class="container-fluid">
        <div class="row vh-100">
            <div class="col-6 h-100 bg-info bg-gradient border overflow-auto p-4">
                <form action="/cockTail/register" id="cocktail-form" method="post" enctype="multipart/form-data">
                    <!-- 기본 정보 입력 -->
                    <div class="row mb-3">
                        <label for="cocktail_name">칵테일 이름</label>
                        <input type="text" class="form-control" id="cocktail_name" name="cocktailName" placeholder=""
                               value="" required><br><br>
                        <div class="invalid-feedback">
                            칵테일 이름을 입력해주세요.
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label for="proof">도수</label>
                        <input type="number" class="form-control" id="proof" name="proof" placeholder="" value="" step="1"
                               required><br><br>
                        <div class="invalid-feedback">
                            칵테일의 도수를 입력해주세요.
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label for="glass" class="col-4 col-form-label">잔 종류</label>
                        <select id="glass" name="glass" class="col-8" required>
                            <option value="">선택해주세요</option>
                            <option th:each="glass : ${glasses}" th:value="${glass.name}" th:text="${glass.name}">FAST
                            </option>
                        </select>
                    </div>
                    <div class="row mb-3">
                        <label for="method" class="col-4 col-form-label">제조 기법</label>
                        <select id="method" name="method" class="col-8" required>
                            <option value="">선택해주세요</option>
                            <option th:each="method : ${methods}" th:value="${method.name()}" th:text="${method.name}">
                                FAST
                            </option>
                        </select>
                    </div>
                    <div class="row mb-3">
                        <label for="garnish" class="col-4 col-form-label">가니시</label>
                        <input type="text" class="col-8" id="garnish" name="garnish"><br><br>
                    </div>
                    <div class="row mb-3">
                        <label for="image" class="col-4 col-form-label">이미지</label>
                        <input type="file" class="col-8" id="image" name="image"><br><br>
                    </div>

                    <div id="ingredientsContainer">
                        <div class="row mb-3">
                            <p class="col-4">재료 리스트</p>
                            <button id="addRow" class="col-8 btn btn-success"> +</button>
                        </div>

                    </div>

                    <input type="hidden" id="user_id" name="userId" th:value="${#authentication.name}">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <input type="submit" class="btn btn-primary btn-lg btn-block mb-3 w-100 " value="Cocktail 등록 ">
                </form>
            </div>
            <div class="col-6 h-100 bg-info bg-gradient h- border overflow-auto">
                <ul class="list-group">
                    <li th:data-name="${cockTail.file.fileName}"
                        th:data-id="${cockTail.id}"
                        class="list-group-item d-flex justify-content-start row"
                        th:each="cockTail : ${allCocktail}">
                        <img class="img-fluid col-2" alt="칵테일 이미지" th:src="${cockTail.file.filePath}"
                             onerror="this.onerror=null; this.src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT0P911WuRYFLYasbGkKZUFXJFJLOIlsC4mXg&s';"/>
                        <p class="openDetail col-8" th:text="${cockTail.getCocktailName()}"></p>
                        <span class="col-2 cocktailDelete">x</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <script th:src="@{/js/CockTail.js}"></script>

</th:block>
</html>